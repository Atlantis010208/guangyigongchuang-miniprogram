<scroll-view class="page" scroll-y>
  <view class="header">
    <text class="title">我的预约</text>
  </view>

  <!-- 预约列表 -->
  <view wx:if="{{appointments.length > 0}}" class="appointment-list">
    <view wx:for="{{appointments}}" wx:key="id" class="appointment-card">
      <view class="appointment-header">
        <text class="service-name">{{item.serviceName}}</text>
        <text class="status status-{{item.status}}">{{item.statusText}}</text>
      </view>
      <view class="appointment-info">
        <view class="info-row">
          <text class="label">预约时间</text>
          <text class="value">{{item.appointmentTime}}</text>
        </view>
        <view class="info-row">
          <text class="label">服务地址</text>
          <text class="value">{{item.address}}</text>
        </view>
        <view class="info-row">
          <text class="label">联系电话</text>
          <text class="value">{{item.phone}}</text>
        </view>
      </view>
      <view class="appointment-actions">
        <button wx:if="{{item.status === 'pending'}}" class="btn btn-cancel" bindtap="cancelAppointment" data-id="{{item.id}}">取消预约</button>
        <button wx:if="{{item.status === 'confirmed'}}" class="btn btn-reschedule" bindtap="rescheduleAppointment" data-id="{{item.id}}">改期</button>
        <button class="btn btn-contact" bindtap="contactService">联系客服</button>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view wx:else class="empty-state">
    <image class="empty-icon" src="/images/empty-appointment.png" mode="aspectFit"></image>
    <text class="empty-text">暂无预约记录</text>
    <button class="btn btn-primary" bindtap="makeAppointment">立即预约</button>
  </view>
</scroll-view>