<!-- è®¾è®¡å¸ˆåˆ—è¡¨é¡µ - å‚è€ƒ ai_studio å¸ƒå±€ -->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="header-section">
    <view class="header-row">
      <text class="page-title">å‘ç°è®¾è®¡å¸ˆ</text>
      <view class="notify-btn">
        <text class="bell-icon">ğŸ””</text>
      </view>
    </view>

    <!-- æœç´¢æ¡† -->
    <view class="search-box">
      <text class="search-icon">ğŸ”</text>
      <input
        class="search-input"
        placeholder="æœç´¢åŒ—æ¬§ã€æ—¥å¼ã€æç®€..."
        value="{{searchKeyword}}"
        bindinput="onSearchInput"
      />
    </view>

    <!-- ç­›é€‰æ ‡ç­¾ - æ¨ªå‘æ»šåŠ¨ -->
    <scroll-view class="filter-tabs-wrapper" scroll-x enable-flex>
      <view
        class="filter-chip {{sortBy === 'rating' ? 'active' : ''}}"
        bindtap="onFilterTap"
        data-filter="rating"
      >
        <text>æ¨èæ’åº</text>
      </view>
      <view
        class="filter-chip {{selectedSpace ? 'active' : ''}}"
        bindtap="toggleSpaceFilter"
      >
        <text>æ“…é•¿é£æ ¼</text>
        <text class="arrow-icon">â–¼</text>
      </view>
      <view
        class="filter-chip {{sortBy === 'experience' ? 'active' : ''}}"
        bindtap="onFilterTap"
        data-filter="experience"
      >
        <text>ä»ä¸šå¹´é™</text>
      </view>
      <view
        class="filter-chip {{sortBy === 'price' ? 'active' : ''}}"
        bindtap="onFilterTap"
        data-filter="price"
      >
        <text>ä»·æ ¼ç­›é€‰</text>
      </view>
    </scroll-view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-state">
    <view class="spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- è®¾è®¡å¸ˆåˆ—è¡¨ -->
  <view wx:elif="{{designers.length > 0}}" class="designer-list-content">
    <view
      wx:for="{{designers}}"
      wx:key="_id"
      class="designer-card"
      bindtap="onDesignerTap"
      data-id="{{item._id}}"
    >
      <!-- ä½œå“é›†é¢„è§ˆ - æœ‰ä¸¤ç§å¸ƒå±€ -->
      <view wx:if="{{item.portfolioLayout === 'grid'}}" class="portfolio-grid">
        <image
          class="main-image"
          src="{{item.mainImage || '/images/ä¸ªäººä¸­å¿ƒ.png'}}"
          mode="aspectFill"
        />
        <view class="side-images">
          <image
            class="side-image"
            src="{{item.sideImage1 || '/images/ä¸ªäººä¸­å¿ƒ.png'}}"
            mode="aspectFill"
          />
          <view class="image-count-box">
            <text>+{{item.imageCount || 12}}</text>
          </view>
        </view>
      </view>

      <view wx:else class="portfolio-single">
        <image
          class="single-image"
          src="{{item.coverImage || '/images/ä¸ªäººä¸­å¿ƒ.png'}}"
          mode="aspectFill"
        />
        <view wx:if="{{item.hasVideo}}" class="video-badge">
          <text class="play-icon">â–¶</text>
          <text>è§†é¢‘æ¡ˆä¾‹</text>
        </view>
      </view>

      <!-- è®¾è®¡å¸ˆä¿¡æ¯ -->
      <view class="card-info-section">
        <view class="info-left">
          <image
            class="designer-avatar"
            src="{{item.avatarUrl}}"
            mode="aspectFill"
          />
          <view class="info-text">
            <text class="designer-name">{{item.name}}</text>
            <text class="designer-meta">{{item.experienceYears || 8}}å¹´ç»éªŒ Â· {{item.specialties[0] || 'æç®€'}}/{{item.specialties[1] || 'æ—¥å¼'}}</text>
            <view class="badge-group">
              <view wx:if="{{item.fastResponse}}" class="badge badge-orange">
                <text>å“åº”å¿«</text>
              </view>
              <view class="badge badge-gray">
                <text>å®åè®¤è¯</text>
              </view>
            </view>
          </view>
        </view>

        <view class="info-right">
          <view class="rating-box">
            <text class="star-icon">â˜…</text>
            <text class="rating-num">{{item.rating}}</text>
          </view>
          <text class="transaction-text">{{item.projectCount}}å•æˆäº¤</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:else class="empty-state">
    <view class="empty-icon">
      <text class="empty-icon-text">ğŸ”</text>
    </view>
    <text class="empty-title">æœªæ‰¾åˆ°è®¾è®¡å¸ˆ</text>
    <text class="empty-description">è¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶</text>
  </view>
</view>
